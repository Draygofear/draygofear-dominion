<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tic Tac Toe</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      background-color: #1e1e1e;
      color: #f5f5f5;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
    }
    .logo {
      max-width: 160px;
      margin-top: 20px;
    }
    .back-button {
      margin: 10px;
      display: inline-block;
      padding: 10px 20px;
      background: #444;
      color: #fff;
      border: none;
      text-decoration: none;
      border-radius: 6px;
    }
    h1 {
      margin-top: 10px;
    }
    .game-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 20px;
    }
    .board {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      grid-template-rows: repeat(3, 100px);
      gap: 5px;
    }
    .cell {
      width: 100px;
      height: 100px;
      background: #222;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 3em;
      font-weight: bold;
      cursor: pointer;
      border-radius: 5px;
      transition: background 0.3s;
    }
    .cell:hover {
      background: #333;
    }
    .scoreboard {
      margin-top: 20px;
    }
    .fireworks {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
      display: none;
    }
    .creepy-face {
      display: none;
      margin: 20px auto;
      max-width: 150px;
      animation: fadeIn 3s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .mode-toggle {
      margin-top: 10px;
      padding: 6px 12px;
      background: #444;
      border: none;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <a href="games.html" class="back-button">‚Üê Back to Games</a>
  <img src="logo.png" alt="DraygoFear Logo" class="logo">
  <h1>Tic Tac Toe</h1>
  <button class="mode-toggle" onclick="toggleMode()">Mode: 2 Player</button>

  <div class="game-container">
    <div class="board" id="board">
      <!-- Cells will be generated here -->
    </div>
  </div>

  <div class="scoreboard">
    <p>X Wins: <span id="xWins">0</span> | O Wins: <span id="oWins">0</span> | Draws: <span id="draws">0</span></p>
    <button onclick="resetGame()">Reset Game</button>
  </div>

  <img src="https://i.imgur.com/7VZzYgT.png" alt="Creepy Face" class="creepy-face" id="creepyFace">

  <canvas class="fireworks" id="fireworksCanvas"></canvas>

  <script>
    const board = document.getElementById('board');
    const creepyFace = document.getElementById('creepyFace');
    const fireworks = document.getElementById('fireworksCanvas');
    const xWinsEl = document.getElementById('xWins');
    const oWinsEl = document.getElementById('oWins');
    const drawsEl = document.getElementById('draws');

    let cells = [];
    let currentPlayer = 'X';
    let gameMode = '2p';
    let gameOver = false;

    let xWins = 0, oWins = 0, draws = 0;

    function toggleMode() {
      gameMode = gameMode === '2p' ? 'ai' : '2p';
      document.querySelector('.mode-toggle').textContent = `Mode: ${gameMode === '2p' ? '2 Player' : 'Vs AI'}`;
      resetGame();
    }

    function createBoard() {
      board.innerHTML = '';
      cells = [];
      creepyFace.style.display = 'none';
      gameOver = false;
      for (let i = 0; i < 9; i++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.addEventListener('click', () => handleClick(i));
        board.appendChild(cell);
        cells.push(cell);
      }
    }

    function handleClick(index) {
      if (cells[index].textContent || gameOver) return;
      cells[index].textContent = currentPlayer;
      if (checkWin(currentPlayer)) {
        endGame(currentPlayer);
        return;
      }
      if (cells.every(cell => cell.textContent)) {
        endGame('draw');
        return;
      }
      currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      if (gameMode === 'ai' && currentPlayer === 'O') {
        setTimeout(aiMove, 500);
      }
    }

    function checkWin(player) {
      const combos = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
      ];
      return combos.some(combo => combo.every(i => cells[i].textContent === player));
    }

    function endGame(result) {
      gameOver = true;
      if (result === 'X') {
        xWins++;
        xWinsEl.textContent = xWins;
        showFireworks();
